"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[923],{2923:(t,e,s)=>{s.r(e),s.d(e,{default:()=>o});const a={props:["product","warehouses","old_stocks"],data:function(){return{items:[{id:"",warehouse:"",stock:0,quantity:0,customer_buying_price:0,price:0,adjust_type:""}],adjust_type:["Add","Subtract"],stock_alert_quantity:0}},mounted:function(){var t=this;this.old_stocks.length>0&&(this.items=[],this.old_stocks.map((function(e){t.items.push({id:e.id,warehouse:e.warehouse_id,stock:e.quantity,quantity:0,adjust_type:"",customer_buying_price:e.customer_buying_price,price:e.price})}))),this.stock_alert_quantity=this.product.stock_alert_quantity},methods:{checkDuplicate:function(t,e){var s=e.target.value;this.items.filter((function(t){return t.warehouse==s})).length>1&&(this.$swal.fire({icon:"error",text:"Duplicate warehouse selected!"}),this.items.splice(t,1))},addItem:function(){this.items.push({id:"",warehouse:"",stock:0,quantity:0,customer_buying_price:0,price:0,adjust_type:""})},deleteItem:function(t){this.items.splice(t,1)}}};const o=(0,s(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12"},[e("table",{staticClass:"table table-bordered mb-4"},[e("tr",[e("th",{attrs:{colspan:"5"}},[e("img",{staticClass:"img-100-60",attrs:{src:t.product.thumb_url,alt:t.product.name}}),t._v(" "),e("span",{staticClass:"ml-4"},[e("small",[t._v(t._s(t.__("custom.product_name"))+": ")]),t._v("\n                    "+t._s(t.product.name)+"\n                ")])]),t._v(" "),e("th",{attrs:{colspan:"2"}},[t._v("\n                "+t._s(t.__("custom.alert_quantity"))+"\n                "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.stock_alert_quantity,expression:"stock_alert_quantity"}],staticClass:"form-control",attrs:{type:"number",name:"alert_quantity",required:"",placeholder:t.__("custom.alert_quantity")},domProps:{value:t.stock_alert_quantity},on:{input:function(e){e.target.composing||(t.stock_alert_quantity=e.target.value)}}})])]),t._v(" "),e("tr",[e("th",[t._v(t._s(t.__("custom.warehouse_name")))]),t._v(" "),e("th",{attrs:{width:"20%"}},[t._v(t._s(t.__("custom.current_stock"))+" "),t.product.weight_unit?e("small",[t._v("("+t._s(t.product.weight_unit.name)+")")]):t._e()]),t._v(" "),e("th",{attrs:{width:"20%"}},[t._v(t._s(t.__("custom.qty"))+" "),t.product.weight_unit?e("small",[t._v("("+t._s(t.product.weight_unit.name)+")")]):t._e()]),t._v(" "),e("th",[t._v(t._s(t.__("custom.price")))]),t._v(" "),e("th",[t._v(t._s(t.__("custom.customer_buying_price")))]),t._v(" "),e("th",[t._v(t._s(t.__("custom.adjust_type"))+" "),e("small",[t._v("("+t._s(t.__("custom.stock"))+")")])]),t._v(" "),e("th")]),t._v(" "),t._l(t.items,(function(s,a){return e("tr",{key:a},[e("td",{attrs:{width:"30%"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:s.warehouse,expression:"item.warehouse"}],staticClass:"form-control",attrs:{name:"warehouse_stock["+a+"][warehouse]"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(s,"warehouse",e.target.multiple?a:a[0])},function(e){return t.checkDuplicate(a,e)}]}},[e("option",{attrs:{value:"",selected:""}},[t._v(t._s(t.__("custom.select_warehouse")))]),t._v(" "),t._l(t.warehouses,(function(s,a){return e("option",{key:a,domProps:{value:s.id}},[t._v("\n                        "+t._s(s.name)+"\n                    ")])}))],2)]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.stock,expression:"item.stock"}],staticClass:"form-control",attrs:{readonly:"1",type:"number",name:"warehouse_stock["+a+"][stock]"},domProps:{value:s.stock},on:{input:function(e){e.target.composing||t.$set(s,"stock",e.target.value)}}})]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.quantity,expression:"item.quantity"}],staticClass:"form-control",attrs:{min:"0",width:"30px",type:"number",name:"warehouse_stock["+a+"][quantity]"},domProps:{value:s.quantity},on:{input:function(e){e.target.composing||t.$set(s,"quantity",e.target.value)}}})]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.price,expression:"item.price"}],staticClass:"form-control",attrs:{min:"0",width:"30px",type:"number",name:"warehouse_stock["+a+"][price]"},domProps:{value:s.price},on:{input:function(e){e.target.composing||t.$set(s,"price",e.target.value)}}})]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.customer_buying_price,expression:"item.customer_buying_price"}],staticClass:"form-control",attrs:{min:"0",width:"30px",type:"number",name:"warehouse_stock["+a+"][customer_buying_price]"},domProps:{value:s.customer_buying_price},on:{input:function(e){e.target.composing||t.$set(s,"customer_buying_price",e.target.value)}}})]),t._v(" "),t.old_stocks.length>0?e("td",{attrs:{width:"10%"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:s.adjust_type,expression:"item.adjust_type"}],staticClass:"form-control",attrs:{name:"warehouse_stock["+a+"][adjust_type]"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(s,"adjust_type",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"",selected:""}},[t._v(t._s(t.__("custom.select_adjust_type")))]),t._v(" "),t._l(t.adjust_type,(function(s,a){return e("option",{key:a,domProps:{value:s}},[t._v(t._s(s))])}))],2)]):e("td",{attrs:{width:"1%"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:s.adjust_type,expression:"item.adjust_type"}],staticClass:"form-control",attrs:{name:"warehouse_stock["+a+"][adjust_type]"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(s,"adjust_type",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"",selected:""}},[t._v(t._s(t.__("custom.select_adjust_type")))]),t._v(" "),e("option",{attrs:{value:"Add",selected:""}},[t._v("Add")])])]),t._v(" "),e("td",{attrs:{width:"5%"}},[s.id?e("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button",disabled:""},on:{click:function(e){return t.deleteItem(a)}}},[e("i",{staticClass:"fa fa-trash"})]):e("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteItem(a)}}},[e("i",{staticClass:"fa fa-trash"})])])])})),t._v(" "),e("tfoot",[e("tr",[e("td",{attrs:{colspan:"7"}},[e("button",{staticClass:"btn btn-sm btn-info float-right",attrs:{type:"button",title:t.__("custom.add_warehouse")},on:{click:t.addItem}},[e("i",{staticClass:"fa fa-plus"})])])])])],2)])}),[],!1,null,null,null).exports},1900:(t,e,s)=>{function a(t,e,s,a,o,n,r,i){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):o&&(u=i?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(c.functional){c._injectStyles=u;var _=c.render;c.render=function(t,e){return u.call(e),_(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}s.d(e,{Z:()=>a})}}]);